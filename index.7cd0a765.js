function e({id:e,backdrop_path:t,budget:n,genres:a,homepage:r}){return`<div class="card" id=${e}>\n     <button id="close-modal">close</button>\n  <button id="add-to-queue">Add to queue</button>\n  <button id="add-wached">Add Wached</button>\n  <img src=https://image.tmdb.org/t/p/w500/${t} alt="">\n  <p>budget ${n}</p>\n  <p>genres</p>\n  <a href=${r}>homepage</a>\n</div>`}function t(e){return e.map((({id:e,title:t,poster_path:n,release_date:a,vote_average:r})=>`<li class="gallery__item" id="${e}">\n      <div class="info-wrap">\n    <img src= https://image.tmdb.org/t/p/w500/${n} alt="" class="poster">\n    <p class="title">${t}</p>\n    <p class="date">Date: ${a}</p>\n    <p class="rating">Rating :${r}</p>\n    </div>\n</li>`)).join("")}var n={gallery:document.querySelector(".gallery__list"),homeBtn:document.querySelector("#home"),libaryBtn:document.querySelector("#libary"),form:document.querySelector("#form"),decrementBtn:document.querySelector("#decrementBtn"),incrementBtn:document.querySelector("#incrementBtn"),card:document.querySelector(".gallery__item"),backdrop:document.querySelector("#backdrop"),closeModal:document.querySelector("#close-modal"),addToQueue:document.querySelector("#add-to-queue"),addWached:document.querySelector("#add-wached")};var a=class{async fetchPopular(){const e=await fetch(`https://api.themoviedb.org/3/discover/movie?api_key=b6201d5209ec246f483ea16253167a90&sort_by=popularity.desc&page=${this.currentPage}`);return(await e.json()).results}async fetchByWord(e){const t=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=b6201d5209ec246f483ea16253167a90&query=${e}`);return(await t.json()).results}async fetchById(e){const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=b6201d5209ec246f483ea16253167a90&language=en-US`);return await t.json()}incrementPage(){this.currentPage+=1}decrementPage(){this.currentPage>1&&(this.currentPage-=1)}constructor(){this.allPage=[],this.currentPage=1}};async function r(){const e=await c.fetchPopular(),n=await t(e);return await o(n)}window.addEventListener("DOMContentLoaded",r),n.homeBtn.addEventListener("click",(function(){r()})),n.libaryBtn.addEventListener("click",(function(){n.gallery.innerHTML=""})),n.form.addEventListener("submit",(async function(e){e.preventDefault();const n=e.target.elements.input.value,a=await c.fetchByWord(n),r=await t(a);return await o(r)})),n.decrementBtn.addEventListener("click",(async function(){c.decrementPage(),r(),console.log(c.currentPage)})),n.incrementBtn.addEventListener("click",(async function(){c.incrementPage(),r(),console.log(c.currentPage)})),n.gallery.addEventListener("click",(async function(t){if(t.target.classList.contains("gallery__item")){const r=t.target.getAttribute("id"),o=await c.fetchById(r);n.backdrop.classList.remove("visually-hidden");const i=await e(o);await(a=i,void(n.backdrop.innerHTML=a))}var a}));const c=new a;function o(e){n.gallery.innerHTML=e}
//# sourceMappingURL=index.7cd0a765.js.map
