{"mappings":"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","sources":["src/js/refs.js","src/js/local-storage.js","src/js/create-markup-list.js","src/js/modal.js","src/js/panigation.js","src/js/app.js","src/js/api-servise.js"],"sourcesContent":["export default {\n  gallery: document.querySelector('.gallery'),\n  pagination: document.querySelector('.pagination'),\n\n  homeBtn: document.querySelector('.header__btn-home'),\n  form: document.querySelector('.form'),\n\n  backdrop: document.querySelector('.backdrop'),\n  addToQueue: null,\n  addWached: null,\n};\n","import refs from './refs';\n\nclass Storage {\n  constructor() {\n    this.watchedList = JSON.parse(localStorage.getItem('watchedList')) ?? [];\n    this.queuedList = JSON.parse(localStorage.getItem('queuedList')) ?? [];\n  }\n\n  addInWatchedList(id) {\n    this.watchedList.push(id);\n    localStorage.setItem('watchedList', JSON.stringify(this.watchedList));\n  }\n\n  addInQueuedList(id) {\n    this.queuedList.push(id);\n    localStorage.setItem('queuedList', JSON.stringify(this.queuedList));\n  }\n}\n\nexport default Storage;\n","const IMG_URL = 'https://image.tmdb.org/t/p/w500/';\nimport Storage from './local-storage';\nconst storage = new Storage();\n\nfunction createMarkupList(arr) {\n  return arr\n    .map(\n      ({\n        id,\n        title,\n        poster_path,\n        release_date,\n        vote_average,\n      }) => `<li class=\"gallery__item\" id=\"${id}\">\n      <div class=\"info-wrap\">\n    <img src= ${IMG_URL}${poster_path} alt=\"\" class=\"poster\">\n    <p class=\"title\">${title}</p>\n    <p class=\"date\">Date: ${release_date}</p>\n    <p class=\"rating\">Rating :${vote_average}</p>\n    </div>\n</li>`\n    )\n    .join('');\n}\n\nexport default createMarkupList;\n","import refs from './refs';\nimport Storage from './local-storage';\nimport { api } from './app';\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500/';\nconst storage = new Storage();\nasync function uppendModalMarkap(markup) {\n  refs.backdrop.innerHTML = markup;\n}\n\nasync function renderModal(filmId) {\n  refs.backdrop.setAttribute('id', filmId);\n  const data = await api.fetchMovieDetails(filmId);\n  const markup = await createModalMarkup(data);\n  await uppendModalMarkap(markup);\n  refs.addToQueue = document.querySelector('.btn-add-queue');\n  refs.addWached = document.querySelector('.btn-add-wached');\n  if (storage.watchedList.includes(filmId)) {\n    refs.addWached.textContent = 'film in wached List';\n  }\n  if (storage.queuedList.includes(filmId)) {\n    refs.addToQueue.textContent = 'film in queue List';\n  }\n  openModal();\n}\n{\n}\nfunction createModalMarkup({\n  poster_path,\n  budget,\n  genres = [],\n  homepage,\n  vote_count,\n  vote_average,\n  original_title,\n  popularity,\n  title,\n  overview,\n}) {\n  const genersList = genres.map(element => element.name);\n  console.log(genersList);\n  return `<div class=\"modal\">\n    <button class=\"modal__close\" data-action=\"close-modal\">&#10006;</button>\n \n      <img class=\"modal__img\" src=${IMG_URL}${poster_path} alt=\"cinema\" />\n  \n    <div class=\"modal__description-wrap\">\n      <h2 class=\"modal__title\">${title}</h2>\n      <table class=\"modal__info\">\n  <tr>\n    <td class=\"modal__info-key\">Vote/votes</td>\n    <td \"modal__info-value\"><span class=\"modal__info-value--accent\">${vote_average}</span>/<span     class=\"modal__info-key--accent\">${vote_count}</span></td>\n  </tr>\n  <tr>\n    <td class=\"modal__info-key\">Popularity</td>\n    <td \"modal__info-value\">${popularity}</td>\n  </tr>\n  <tr>\n    <td class=\"modal__info-key\">Original Title</td>\n    <td \"modal__info-value\">${original_title}</td>\n  </tr>\n  <tr>\n    <td class=\"modal__info-key\">Genre</td>\n    <td \"modal__info-value\">${genersList}</td>\n  </tr>\n</table>\n    \n      <h3 class=\"modal__about-title\">About</h3>\n      <p class=\"modal__about-text\">\n        ${overview}\n      </p>\n      <div class=\"modal__option\">\n        <button class=\"btn-add-wached\" data-action=\"add-wached\">add to Watched</button>\n        <button class=\"btn-add-queue\" data-action=\"add-queue\">add to queue</button>\n      </div>\n    </div>\n  </div>`;\n}\nfunction onCloseEsc(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction onBtnAddToQueueClick(e) {\n  console.log(refs);\n  if (e.target.dataset.action === 'add-queue') {\n    const filmId = e.currentTarget.getAttribute('id');\n    storage.addInQueuedList(filmId);\n    console.log(localStorage.getItem('queuedList'));\n  }\n}\nfunction onBtnAddWachedClick(e) {\n  console.log(refs);\n  if (e.target.dataset.action === 'add-wached') {\n    const filmId = e.currentTarget.getAttribute('id');\n    storage.addInWatchedList(filmId);\n    console.log(localStorage.getItem('watchedList'));\n  }\n}\nfunction onBtnCloseModalClick(e) {\n  if (\n    e.target.dataset.action === 'close-modal' ||\n    e.currentTarget === e.target\n  ) {\n    closeModal();\n  }\n}\n\nfunction openModal() {\n  refs.backdrop.classList.remove('visually-hidden');\n  document.addEventListener('keydown', onCloseEsc);\n  refs.backdrop.addEventListener('click', onBtnCloseModalClick);\n  refs.backdrop.addEventListener('click', onBtnAddToQueueClick);\n  refs.backdrop.addEventListener('click', onBtnAddWachedClick);\n}\n\nfunction closeModal() {\n  refs.backdrop.classList.add('visually-hidden');\n  document.removeEventListener('keydown', onCloseEsc);\n  refs.backdrop.removeEventListener('click', onBtnCloseModalClick);\n  refs.backdrop.removeEventListener('click', onBtnAddToQueueClick);\n  refs.backdrop.removeEventListener('click', onBtnAddWachedClick);\n}\nexport default renderModal;\n// backdrop_path: \"/egoyMDLqCxzjnSrWOz50uLlJWmD.jpg\"\n// belongs_to_collection: {id: 720879, name: \"Sonic the Hedgehog Collection\", poster_path: \"/rEC1pkQ1UbX7USRkVIrt2Nk7hlC.jpg\",…}\n// budget: 110000000\n// genres: [{id: 28, name: \"Action\"}, {id: 12, name: \"Adventure\"}, {id: 10751, name: \"Family\"},…]\n// homepage: \"https://www.sonicthehedgehogmovie.com\"\n// id: 675353\n// imdb_id: \"tt12412888\"\n// original_language: \"en\"\n// original_title: \"Sonic the Hedgehog 2\"\n// overview: \"After settling in Green Hills, Sonic is eager to prove he has what it takes to be a true hero. His test comes when Dr. Robotnik returns, this time with a new partner, Knuckles, in search for an emerald that has the power to destroy civilizations. Sonic teams up with his own sidekick, Tails, and together they embark on a globe-trotting journey to find the emerald before it falls into the wrong hands.\"\n// popularity: 3201.969\n// poster_path: \"/6DrHO1jr3qVrViUO6s6kFiAGM7.jpg\"\n// production_companies: [{id: 4, logo_path: \"/gz66EfNoYPqHTYI4q9UEN4CbHRc.png\", name: \"Paramount\", origin_country: \"US\"},…]\n// production_countries: [{iso_3166_1: \"JP\", name: \"Japan\"}, {iso_3166_1: \"US\", name: \"United States of America\"}]\n// release_date: \"2022-03-30\"\n// revenue: 393000000\n// runtime: 122\n// spoken_languages: [{english_name: \"English\", iso_639_1: \"en\", name: \"English\"}]\n// status: \"Released\"\n// tagline: \"Welcome to the next level.\"\n// title: \"Sonic the Hedgehog 2\"\n// video: false\n// vote_average: 7.7\n// vote_count: 2274\n","import refs from './refs';\n\nfunction createMarkupPagination(currentPage, totalPage) {\n  // if (totalPage === currentPage) {\n  //   return ` <button class=\"prev-btn visually-hidden\"  data-number=\"${\n  //     totalPage - 7\n  //   }\">prew list</button>\n  //     <button class=\"pangination__btn\">${totalPage - 6}</button>\n  //     <button class=\"pangination__btn \">${totalPage - 5}</button>\n  //     <button class=\"pangination__btn\" >${totalPage - 4}</button>\n  //     <button class=\"pangination__btn \">${totalPage - 3}</button>\n  //     <button class=\"pangination__btn \">${totalPage - 2}</button>\n  //     <button class=\"pangination__btn \">${totalPage - 1}</button>\n  //  `;\n  // }\n  return ` <button class=\"prev-btn visually-hidden\"  data-number=\"${\n    currentPage - 6\n  }\">prew list</button>\n      <button class=\"pangination__btn current-page\">${currentPage}</button>\n      <button class=\"pangination__btn \">${currentPage + 1}</button>\n      <button class=\"pangination__btn\" >${currentPage + 2}</button>\n      <button class=\"pangination__btn \">${currentPage + 3}</button>\n      <button class=\"pangination__btn \">${currentPage + 4}</button>\n      <button class=\"pangination__btn \">${currentPage + 5}</button>\n      <button class=\"last-page\">${totalPage}</button>\n      <button class=\"next-btn\" data-number=\"${\n        currentPage + 6\n      }\">next list</button>`;\n}\n\nfunction initPagination(currentPage, totalPage) {\n  console.log(currentPage);\n  currentPage >= 7\n    ? refs.decrementBtn.classList.remove('visually-hidden')\n    : refs.decrementBtn.classList.add('visually-hidden');\n\n  currentPage > totalPage - 6\n    ? refs.incrementBtn.classList.add('visually-hidden')\n    : refs.incrementBtn.classList.remove('visually-hidden');\n\n  refs.paginationBtn.forEach(e => {\n    Number(e.textContent) === currentPage\n      ? e.classList.add('current-page')\n      : e.classList.remove('current-page');\n  });\n}\nfunction showPagination(currentPage, totalPage) {\n  const string = createMarkupPagination(currentPage, totalPage);\n  renderPagination(string);\n\n  refs.paginationBtn = document.querySelectorAll('.pangination__btn');\n  refs.decrementBtn = document.querySelector('.prev-btn');\n  refs.incrementBtn = document.querySelector('.next-btn');\n  refs.paginationLastPage = document.querySelector('.last-page');\n\n  refs.pagination.addEventListener('click', onPaginationBtnClick);\n  refs.pagination.addEventListener('click', onNextPageClick);\n  refs.pagination.addEventListener('click', onPrevPageClick);\n  refs.pagination.addEventListener('click', onLastBtnClick);\n  initPagination(currentPage, totalPage);\n}\nfunction renderPagination(string) {\n  refs.pagination.innerHTML = string;\n}\nexport { showPagination };\n// ###############################################\n\n// #####################################################################\n\nfunction onLastBtnClick(e) {\n  if (e.target.classList.contains('last-page')) {\n    let page = e.target.textContent;\n\n    showPagination(page, page);\n  }\n}\n\nfunction onNextPageClick(e) {\n  if (e.target.classList.contains('next-btn')) {\n    let nextPage = 0;\n    refs.paginationBtn.forEach(element => {\n      element.textContent = Number(element.textContent) + 6;\n      if (element.classList.contains('current-page')) {\n        nextPage = Number(element.textContent);\n      }\n\n      initPagination(nextPage);\n    });\n  }\n}\nfunction onPrevPageClick(e) {\n  if (e.target.classList.contains('prev-btn')) {\n    let nextPage = 0;\n    refs.paginationBtn.forEach(element => {\n      element.textContent = Number(element.textContent) - 6;\n      if (element.classList.contains('current-page')) {\n        nextPage = Number(element.textContent);\n      }\n\n      console.log(nextPage);\n      initPagination(nextPage);\n    });\n  }\n}\n\nfunction onPaginationBtnClick(e) {\n  if (e.target.classList.contains('pangination__btn')) {\n    initPagination(Number(e.target.textContent));\n  }\n}\n","import refs from './refs';\nimport createMarkupList from './create-markup-list';\nimport renderModal from './modal';\nimport ApiService from './api-servise';\nimport { showPagination } from './panigation';\n\nconst api = new ApiService();\nexport { api };\n\nwindow.addEventListener('DOMContentLoaded', renderList);\nrefs.homeBtn.addEventListener('click', onClickBtnHome);\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.gallery.addEventListener('click', onCardClick);\n\nfunction uppendMarkapGalleryList(string) {\n  refs.gallery.innerHTML = string;\n}\n\nasync function renderList() {\n  const data = await api.fetchTrending();\n  const markup = await createMarkupList(data.results);\n  await uppendMarkapGalleryList(markup);\n  showPagination(data.page, data.total_pages);\n}\n\nasync function onFormSubmit(e) {\n  e.preventDefault();\n  api.searchQuery = e.target.elements.input.value;\n  const data = await api.fetchSearchMovie();\n  if (data.results.length === 0) {\n    alert('Search result not successful. Enter the correct movie name and ');\n    return;\n  }\n  const markup = await createMarkupList(data.results);\n  await uppendMarkapGalleryList(markup);\n  showPagination(data.page, data.total_pages);\n}\nfunction uppendMarkapGalleryList(string) {\n  refs.gallery.innerHTML = string;\n}\n\n// ------Modal----------------\nasync function onCardClick(e) {\n  const filmId = e.target.getAttribute('id');\n  if (e.target.classList.contains('gallery__item')) {\n    await renderModal(filmId);\n  }\n}\n\nfunction onClickBtnHome() {\n  api.resetPage();\n  renderList();\n}\n","const BASE_URL = 'https://api.themoviedb.org/3';\nconst KEY = 'b6201d5209ec246f483ea16253167a90';\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500/';\nexport default class ApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n    this.searchId = '';\n  }\n\n  fetchGenres(type) {\n    const url = `${BASE_URL}/genre/${type}/list?api_key=${KEY}&language=en-US`;\n    return fetch(url).then(res => res.json());\n  }\n\n  async fetchTrending() {\n    const url = `${BASE_URL}/trending/all/day?api_key=${KEY}&page=${this.page}`;\n    const response = await fetch(url);\n    const data = response.json();\n    return data;\n  }\n\n  async fetchSearchMovie() {\n    const url = `${BASE_URL}/search/movie?api_key=${KEY}&language=en-US&query=${this.searchQuery}&page=${this.page}&include_adult=false`;\n    const response = await fetch(url);\n    const data = response.json();\n    return data;\n  }\n\n  async fetchMovieDetails(movieId) {\n    const url = `${BASE_URL}/movie/${movieId}?api_key=${KEY}&language=en-US`;\n    const response = await fetch(url);\n    const data = response.json();\n    return data;\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  set pageNumber(number) {\n    this.page = number;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n\n  get movieId() {\n    return this.searchId;\n  }\n\n  set movieId(newId) {\n    this.searchId = newId;\n  }\n}\n"],"names":["$ee27a4d7c64fc8c4$export$2e2bcd8739ae039","gallery","document","querySelector","pagination","homeBtn","form","backdrop","addToQueue","addWached","$8125d1701b78b442$export$2e2bcd8739ae039","addInWatchedList","id","this","watchedList","push","localStorage","setItem","JSON","stringify","addInQueuedList","queuedList","constructor","ref","ref1","parse","getItem","$c5622b0dc2fd209a$export$2e2bcd8739ae039","arr","map","title","poster_path","release_date","vote_average","join","$8a7e756c566dd1ea$var$storage","$8a7e756c566dd1ea$var$onCloseEsc","e","code","$8a7e756c566dd1ea$var$closeModal","$8a7e756c566dd1ea$var$onBtnAddToQueueClick","console","log","target","dataset","action","filmId","currentTarget","getAttribute","$8a7e756c566dd1ea$var$onBtnAddWachedClick","$8a7e756c566dd1ea$var$onBtnCloseModalClick","classList","add","removeEventListener","$8a7e756c566dd1ea$export$2e2bcd8739ae039","async","setAttribute","data","$ce77af30fc9a6e63$export$644d8ea042df96a6","fetchMovieDetails","markup","budget","genres","homepage","vote_count","original_title","popularity","overview","genersList","element","name","$8a7e756c566dd1ea$var$createModalMarkup","innerHTML","$8a7e756c566dd1ea$var$uppendModalMarkap","includes","textContent","remove","addEventListener","$5b520884b4ca46d8$var$initPagination","currentPage","totalPage","decrementBtn","incrementBtn","paginationBtn","forEach","Number","$5b520884b4ca46d8$export$f93f175716c54a10","string","$5b520884b4ca46d8$var$createMarkupPagination","$5b520884b4ca46d8$var$renderPagination","querySelectorAll","paginationLastPage","$5b520884b4ca46d8$var$onPaginationBtnClick","$5b520884b4ca46d8$var$onNextPageClick","$5b520884b4ca46d8$var$onPrevPageClick","$5b520884b4ca46d8$var$onLastBtnClick","contains","page","nextPage","fetchGenres","type","fetch","then","res","json","url","searchQuery","movieId","incrementPage","pageNumber","number","resetPage","query","newQuery","searchId","newId","$ce77af30fc9a6e63$var$uppendMarkapGalleryList","$ce77af30fc9a6e63$var$renderList","fetchTrending","results","total_pages","window","preventDefault","elements","input","value","fetchSearchMovie","length","alert"],"version":3,"file":"index.a4e5b083.js.map"}