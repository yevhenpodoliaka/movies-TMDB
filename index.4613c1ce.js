function t(t,e,n,a){Object.defineProperty(t,e,{get:n,set:a,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=e.parcelRequireb382;null==i&&((i=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var i={id:t,exports:{}};return n[t]=i,e.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){a[t]=e},e.parcelRequireb382=i),i.register("kyEFX",(function(e,n){var a,i;t(e.exports,"register",(function(){return a}),(function(t){return a=t})),t(e.exports,"resolve",(function(){return i}),(function(t){return i=t}));var r={};a=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)r[e[n]]=t[e[n]]},i=function(t){var e=r[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),i("kyEFX").register(JSON.parse('{"5ZPII":"index.4613c1ce.js","3f3Gn":"cinema.9bc895e8.jpg"}'));var r={gallery:document.querySelector(".gallery"),pagination:document.querySelector(".pagination"),homeBtn:document.querySelector(".header__btn-home"),form:document.querySelector(".form"),backdrop:document.querySelector(".backdrop"),addToQueue:null,addWached:null};var o=class{addInWatchedList(t){this.watchedList.push(t),localStorage.setItem("watchedList",JSON.stringify(this.watchedList))}addInQueuedList(t){this.queuedList.push(t),localStorage.setItem("queuedList",JSON.stringify(this.queuedList))}constructor(){var t,e;this.watchedList=null!==(t=JSON.parse(localStorage.getItem("watchedList")))&&void 0!==t?t:[],this.queuedList=null!==(e=JSON.parse(localStorage.getItem("queuedList")))&&void 0!==e?e:[]}};new o;var s=function(t){return t.map((({id:t,title:e,poster_path:n,release_date:a,vote_average:i})=>`<li class="gallery__item" id="${t}">\n      <div class="info-wrap">\n    <img src= https://image.tmdb.org/t/p/w500/${n} alt="" class="poster">\n    <p class="title">${e}</p>\n    <p class="date">Date: ${a}</p>\n    <p class="rating">Rating :${i}</p>\n    </div>\n</li>`)).join("")};var c=class{async fetchByUrl(t){new URL(this.url).searchParams.set("page",t);const e=await fetch(this.url),n=await e.json();return this.totalPage=n.total_pages,this.currentlPage=n.page,n}async fetchByWord(t){const e=new URL("https://api.themoviedb.org/3/search/movie?api_key=b6201d5209ec246f483ea16253167a90");e.searchParams.set("page",1),e.searchParams.set("query",t);const n=await fetch(e),a=await n.json();return console.log(a),a}incrementPage(){this.currentPage+=1}decrementPage(){this.currentPage>1&&(this.currentPage-=1)}async fetchById(t){const e=await fetch(`https://api.themoviedb.org/3/movie/${t}?api_key=b6201d5209ec246f483ea16253167a90`);return await e.json()}constructor(){this.homeUrl="https://api.themoviedb.org/3/trending/all/day?api_key=b6201d5209ec246f483ea16253167a90",this.url="https://api.themoviedb.org/3/trending/all/day?api_key=b6201d5209ec246f483ea16253167a90",this.currentPage=1,this.totalPage=null}};new URL(i("kyEFX").resolve("3f3Gn"),import.meta.url).toString();new c,new o;var l=function(t,e){return` <button class="prev-btn visually-hidden">prew list</button>\n      <button class="pangination__btn current-page">${t}</button>\n      <button class="pangination__btn ">${t+1}</button>\n      <button class="pangination__btn" >${t+2}</button>\n      <button class="pangination__btn ">${t+3}</button>\n      <button class="pangination__btn ">${t+4}</button>\n      <button class="pangination__btn ">${t+5}</button>\n      <button class="last-page">${e}</button>\n      <button class="next-btn visually-hidden" data-number="\n      ">next list</button>`};function u(t,e){const n=l(t,e);r.pagination.innerHTML=n,r.paginationBtn=document.querySelectorAll(".pangination__btn"),r.decrementBtn=document.querySelector(".prev-btn"),r.incrementBtn=document.querySelector(".next-btn"),r.paginationLastPage=document.querySelector(".last-page"),r.pagination.addEventListener("click",h),r.pagination.addEventListener("click",g),r.pagination.addEventListener("click",p),r.pagination.addEventListener("click",d)}function d(t){if(t.target.classList.contains("last-page")){t.target.textContent}}function g(t){if(t.target.classList.contains("next-btn")){let t=0;r.paginationBtn.forEach((e=>{e.textContent=Number(e.textContent)+6,e.classList.contains("current-page")&&(t=Number(e.textContent))}))}}function p(t){if(t.target.classList.contains("prev-btn")){let t=0;r.paginationBtn.forEach((e=>{e.textContent=Number(e.textContent)-6,e.classList.contains("current-page")&&(t=Number(e.textContent))}))}}function h(t){t.target.classList.contains("pangination__btn")&&console.log(t.target.textContent)}const f=new c;async function b(){const t=(()=>{const t=location.href;let e=new URL(t).searchParams.get("page");var n;return console.log(e),null!==(n=Number(e))&&void 0!==n?n:1})(),e=await f.fetchByUrl(t),n=e.total_pages,a=await s(e.results);m(a),u(t,n)}function m(t){r.gallery.innerHTML=t}async function y(t){if(t.target.classList.contains("pangination__btn")){const e=location.href,n=new URL(e),a=Number(t.target.textContent);n.searchParams.set("page",a),history.pushState({},"",n.toString());const i=await f.fetchByUrl(a),r=i.total_pages,o=await s(i.results);m(o),u(a,r)}}function m(t){r.gallery.innerHTML=t}window.addEventListener("DOMContentLoaded",b),r.pagination.addEventListener("click",y),window.onpopstate=b;
//# sourceMappingURL=index.4613c1ce.js.map
