{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-0ab6e9f1a44cdad4.js","src/js/refs.js","src/js/local-storage.js","src/js/create-markup-list.js","src/js/api-servise.js","node_modules/@parcel/runtime-js/lib/runtime-74c3e27ccfb5a105.js","src/js/modal.js","src/js/app.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.cb09e6c2.js\\\",\\\"3f3Gn\\\":\\\"cinema.9bc895e8.jpg\\\"}\"));","export default {\n  gallery: document.querySelector('.gallery'),\n  pagination: document.querySelector('.pagination'),\n  libary: document.querySelector('.libary'),\n  homeBtn: document.querySelector('.header__btn-home'),\n  libaryBtn: document.querySelector('.header__btn-libary'),\n  form: document.querySelector('.form'),\n  libaryOptions: document.querySelector('.libary__options'),\n  decrementBtn: document.querySelector('.prew-btn'),\n  incrementBtn: document.querySelector('.next-btn'),\n  backdrop: document.querySelector('.backdrop'),\n  addToQueue: null,\n  addWached: null,\n  pageNumberBox: document.querySelector('.page-number-box'),\n  currentPageNumber: document.querySelector('.current-page-namber'),\n  totalpageNumber: document.querySelector('.total-page-number'),\n};\n","import refs from './refs';\n\nclass Storage {\n  constructor() {\n    this.watchedList = JSON.parse(localStorage.getItem('watchedList')) ?? [];\n    this.queuedList = JSON.parse(localStorage.getItem('queuedList')) ?? [];\n  }\n\n  addInWatchedList(id) {\n    this.watchedList.push(id);\n    localStorage.setItem('watchedList', JSON.stringify(this.watchedList));\n  }\n\n  addInQueuedList(id) {\n    this.queuedList.push(id);\n    localStorage.setItem('queuedList', JSON.stringify(this.queuedList));\n  }\n}\n\nexport default Storage;\n","const IMG_URL = 'https://image.tmdb.org/t/p/w500/';\nimport Storage from './local-storage';\nconst storage = new Storage();\n\nfunction createMarkupList(arr) {\n  return arr\n    .map(\n      ({\n        id,\n        title,\n        poster_path,\n        release_date,\n        vote_average,\n      }) => `<li class=\"gallery__item\" id=\"${id}\">\n      <div class=\"info-wrap\">\n    <img src= ${IMG_URL}${poster_path} alt=\"\" class=\"poster\">\n    <p class=\"title\">${title}</p>\n    <p class=\"date\">Date: ${release_date}</p>\n    <p class=\"rating\">Rating :${vote_average}</p>\n    </div>\n</li>`\n    )\n    .join('');\n}\n\nexport default createMarkupList;\n","import refs from './refs';\nimport { renderPaginationBtns } from './pagination';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '?api_key=b6201d5209ec246f483ea16253167a90';\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500/';\nconst URL_TRAND = BASE_URL + 'trending/all/day' + API_KEY;\nconst URL_POPULAR =\n  BASE_URL + 'discover/movie' + API_KEY + '&sort_by=popularity.desc';\n\n// async function fetchGenereList() {\n//   const response = await fetch(\n//     BASE_URL + 'genre/movie/list' + API_KEY + '&language=en-US'\n//   );\n//   const data = await response.json();\n//   return data;\n// }\n// fetchGenereList().then(console.log);\nclass Search {\n  constructor() {\n    this.homeUrl = URL_TRAND;\n    this.url = URL_TRAND;\n    this.currentPage = 1;\n    this.currentId = null;\n    this.totalPage = null;\n  }\n\n  async fetchByUrl() {\n    const response = await fetch(this.url + `&page=${this.currentPage}`);\n    const data = await response.json();\n    this.totalPage = data.total_pages;\n    console.log(this.currentPage);\n    console.log(this.totalPage);\n    // this.showPageNumber();\n    this.renderPaginationBtns();\n\n    return data.results;\n  }\n\n  async fetchByWord(word) {\n    this.url = BASE_URL + 'search/movie' + API_KEY + `&query=${word}`;\n\n    const response = await fetch(this.url + `&page=${this.currentPage}`);\n    const data = await response.json();\n    this.totalPage = data.total_pages;\n    console.log(this.currentPage);\n    console.log(this.totalPage);\n    // this.showPageNumber();\n    this.renderPaginationBtns();\n\n    return data.results;\n  }\n\n  incrementPage() {\n    this.currentPage += 1;\n  }\n  decrementPage() {\n    if (this.currentPage > 1) {\n      this.currentPage -= 1;\n    }\n  }\n\n  async fetchById(movieId) {\n    const response = await fetch(BASE_URL + `movie/${movieId}` + API_KEY);\n    const data = await response.json();\n    return data;\n  }\n\n  showPageNumber() {\n    refs.currentPageNumber.textContent = this.currentPage;\n    refs.totalpageNumber.textContent = this.totalPage;\n  }\n\n  renderPaginationBtns() {\n    refs.pagination.innerHTML = `\n  <button class=\"current-page\">${this.currentPage}</button>\n  <button>${+this.currentPage + 1}</button>\n  <button>${+this.currentPage + 2}</button>\n  <button>${+this.currentPage + 3}</button>\n  <button>${+this.currentPage + 4}</button>\n  <button>${+this.currentPage + 5}</button>\n  <button>${+this.currentPage + 6}</button>\n  <button>${+this.currentPage + 7}</button>\n  <button>${+this.totalPage}</button>`;\n  }\n}\n\nexport default Search;\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3f3Gn\")).toString();","import Search from './api-servise';\nimport Storage from './local-storage';\nimport refs from './refs';\nimport defaultImg from '../images/cinema.jpg';\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500/';\n\nconst search = new Search();\nconst storage = new Storage();\n\nasync function uppendModalMarkap(markup) {\n  refs.backdrop.innerHTML = markup;\n}\n\nasync function renderModal(filmId) {\n  refs.backdrop.setAttribute('id', filmId);\n  const data = await search.fetchById(filmId);\n  const markup = await createModalMarkup(data);\n  await uppendModalMarkap(markup);\n  refs.addToQueue = document.querySelector('.btn-add-queue');\n  refs.addWached = document.querySelector('.btn-add-wached');\n  if (storage.watchedList.includes(filmId)) {\n    refs.addWached.textContent = 'film in wached List';\n  }\n  if (storage.queuedList.includes(filmId)) {\n    refs.addToQueue.textContent = 'film in queue List';\n  }\n  openModal();\n}\n{\n}\nfunction createModalMarkup({\n  poster_path,\n  budget,\n  genres = [],\n  homepage,\n  vote_count,\n  vote_average,\n  original_title,\n  popularity,\n  title,\n  overview,\n}) {\n  const genersList = genres.map(element => element.name);\n  console.log(genersList);\n  return `<div class=\"modal\">\n    <button class=\"modal__close\" data-action=\"close-modal\">&#10006;</button>\n \n      <img class=\"modal__img\" src=${IMG_URL}${poster_path} alt=\"cinema\" />\n  \n    <div class=\"modal__description-wrap\">\n      <h2 class=\"modal__title\">${title}</h2>\n      <table class=\"modal__info\">\n  <tr>\n    <td class=\"modal__info-key\">Vote/votes</td>\n    <td \"modal__info-value\"><span class=\"modal__info-value--accent\">${vote_average}</span>/<span     class=\"modal__info-key--accent\">${vote_count}</span></td>\n  </tr>\n  <tr>\n    <td class=\"modal__info-key\">Popularity</td>\n    <td \"modal__info-value\">${popularity}</td>\n  </tr>\n  <tr>\n    <td class=\"modal__info-key\">Original Title</td>\n    <td \"modal__info-value\">${original_title}</td>\n  </tr>\n  <tr>\n    <td class=\"modal__info-key\">Genre</td>\n    <td \"modal__info-value\">${genersList}</td>\n  </tr>\n</table>\n    \n      <h3 class=\"modal__about-title\">About</h3>\n      <p class=\"modal__about-text\">\n        ${overview}\n      </p>\n      <div class=\"modal__option\">\n        <button class=\"btn-add-wached\" data-action=\"add-wached\">add to Watched</button>\n        <button class=\"btn-add-queue\" data-action=\"add-queue\">add to queue</button>\n      </div>\n    </div>\n  </div>`;\n}\nfunction onCloseEsc(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction onBtnAddToQueueClick(e) {\n  console.log(refs);\n  if (e.target.dataset.action === 'add-queue') {\n    const filmId = e.currentTarget.getAttribute('id');\n    storage.addInQueuedList(filmId);\n    console.log(localStorage.getItem('queuedList'));\n  }\n}\nfunction onBtnAddWachedClick(e) {\n  console.log(refs);\n  if (e.target.dataset.action === 'add-wached') {\n    const filmId = e.currentTarget.getAttribute('id');\n    storage.addInWatchedList(filmId);\n    console.log(localStorage.getItem('watchedList'));\n  }\n}\nfunction onBtnCloseModalClick(e) {\n  if (\n    e.target.dataset.action === 'close-modal' ||\n    e.currentTarget === e.target\n  ) {\n    closeModal();\n  }\n}\n\nfunction openModal() {\n  refs.backdrop.classList.remove('visually-hidden');\n  document.addEventListener('keydown', onCloseEsc);\n  refs.backdrop.addEventListener('click', onBtnCloseModalClick);\n  refs.backdrop.addEventListener('click', onBtnAddToQueueClick);\n  refs.backdrop.addEventListener('click', onBtnAddWachedClick);\n}\n\nfunction closeModal() {\n  refs.backdrop.classList.add('visually-hidden');\n  document.removeEventListener('keydown', onCloseEsc);\n  refs.backdrop.removeEventListener('click', onBtnCloseModalClick);\n  refs.backdrop.removeEventListener('click', onBtnAddToQueueClick);\n  refs.backdrop.removeEventListener('click', onBtnAddWachedClick);\n}\nexport default renderModal;\n// backdrop_path: \"/egoyMDLqCxzjnSrWOz50uLlJWmD.jpg\"\n// belongs_to_collection: {id: 720879, name: \"Sonic the Hedgehog Collection\", poster_path: \"/rEC1pkQ1UbX7USRkVIrt2Nk7hlC.jpg\",…}\n// budget: 110000000\n// genres: [{id: 28, name: \"Action\"}, {id: 12, name: \"Adventure\"}, {id: 10751, name: \"Family\"},…]\n// homepage: \"https://www.sonicthehedgehogmovie.com\"\n// id: 675353\n// imdb_id: \"tt12412888\"\n// original_language: \"en\"\n// original_title: \"Sonic the Hedgehog 2\"\n// overview: \"After settling in Green Hills, Sonic is eager to prove he has what it takes to be a true hero. His test comes when Dr. Robotnik returns, this time with a new partner, Knuckles, in search for an emerald that has the power to destroy civilizations. Sonic teams up with his own sidekick, Tails, and together they embark on a globe-trotting journey to find the emerald before it falls into the wrong hands.\"\n// popularity: 3201.969\n// poster_path: \"/6DrHO1jr3qVrViUO6s6kFiAGM7.jpg\"\n// production_companies: [{id: 4, logo_path: \"/gz66EfNoYPqHTYI4q9UEN4CbHRc.png\", name: \"Paramount\", origin_country: \"US\"},…]\n// production_countries: [{iso_3166_1: \"JP\", name: \"Japan\"}, {iso_3166_1: \"US\", name: \"United States of America\"}]\n// release_date: \"2022-03-30\"\n// revenue: 393000000\n// runtime: 122\n// spoken_languages: [{english_name: \"English\", iso_639_1: \"en\", name: \"English\"}]\n// status: \"Released\"\n// tagline: \"Welcome to the next level.\"\n// title: \"Sonic the Hedgehog 2\"\n// video: false\n// vote_average: 7.7\n// vote_count: 2274\n","import createMarkupList from './create-markup-list';\nimport renderModal from './modal';\nimport refs from './refs';\nimport Search from './api-servise';\nimport Storage from './local-storage';\n\nwindow.addEventListener('DOMContentLoaded', renderList);\nrefs.homeBtn.addEventListener('click', onClickBtnHome);\nrefs.libaryBtn.addEventListener('click', onClickBtnLibary);\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.decrementBtn.addEventListener('click', onDecrementBtnClick);\nrefs.incrementBtn.addEventListener('click', onIncrementBtnClick);\nrefs.gallery.addEventListener('click', onCardClick);\nrefs.pagination.addEventListener('click', onPaginationBtnClick);\n\nconst search = new Search();\nconst storage = new Storage();\n\nasync function onPaginationBtnClick(e) {\n  search.currentPage = e.target.textContent;\n  await renderList();\n  window.scroll({\n    top: 1,\n    behavior: 'smooth',\n  });\n}\n\nasync function renderList() {\n  const data = await search.fetchByUrl();\n  const markup = await createMarkupList(data);\n  return await uppendMarkapGalleryList(markup);\n}\n\nfunction onClickBtnHome() {\n  refs.form.classList.remove('visually-hidden');\n  refs.libaryOptions.classList.add('visually-hidden');\n  refs.gallery.classList.remove('visually-hidden');\n  refs.libary.classList.add('visually-hidden');\n  search.url = search.homeUrl;\n  renderList();\n}\n\nfunction onClickBtnLibary() {\n  refs.form.classList.add('visually-hidden');\n  refs.libaryOptions.classList.remove('visually-hidden');\n  refs.gallery.classList.add('visually-hidden');\n  refs.libary.classList.remove('visually-hidden');\n}\n\nasync function onFormSubmit(e) {\n  e.preventDefault();\n  search.currentPage = 1;\n  const query = e.target.elements.input.value;\n  const data = await search.fetchByWord(query);\n\n  if (data.length === 0) {\n    alert('Search result not successful. Enter the correct movie name and ');\n    return;\n  }\n  const markup = await createMarkupList(data);\n  return await uppendMarkapGalleryList(markup);\n}\n\nasync function onDecrementBtnClick() {\n  await search.decrementPage();\n  await renderList();\n  window.scroll({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\nasync function onIncrementBtnClick() {\n  await search.incrementPage();\n  await renderList();\n  window.scroll({\n    top: 1,\n    behavior: 'smooth',\n  });\n}\n\nfunction uppendMarkapGalleryList(string) {\n  refs.gallery.innerHTML = string;\n}\n\n// ------Modal----------------\nasync function onCardClick(e) {\n  const filmId = e.target.getAttribute('id');\n  if (e.target.classList.contains('gallery__item')) {\n    await renderModal(filmId);\n  }\n  if (storage.watchedList.includes(filmId)) {\n  }\n  await console.log(refs);\n}\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$ee27a4d7c64fc8c4$export$2e2bcd8739ae039","gallery","document","querySelector","pagination","libary","homeBtn","libaryBtn","form","libaryOptions","decrementBtn","incrementBtn","backdrop","addToQueue","addWached","pageNumberBox","currentPageNumber","totalpageNumber","$8125d1701b78b442$export$2e2bcd8739ae039","addInWatchedList","this","watchedList","push","localStorage","setItem","stringify","addInQueuedList","queuedList","constructor","ref","ref1","getItem","$c5622b0dc2fd209a$export$2e2bcd8739ae039","arr","map","title","poster_path","release_date","vote_average","join","$73417752614b6260$export$2e2bcd8739ae039","async","response","fetch","url","currentPage","data","json","totalPage","total_pages","console","log","renderPaginationBtns","results","word","incrementPage","decrementPage","movieId","showPageNumber","textContent","innerHTML","homeUrl","$73417752614b6260$var$BASE_URL","currentId","URL","resolve","import","meta","toString","$8a7e756c566dd1ea$var$search","$8a7e756c566dd1ea$var$storage","$8a7e756c566dd1ea$var$onCloseEsc","e","code","$8a7e756c566dd1ea$var$closeModal","$8a7e756c566dd1ea$var$onBtnAddToQueueClick","target","dataset","action","filmId","currentTarget","getAttribute","$8a7e756c566dd1ea$var$onBtnAddWachedClick","$8a7e756c566dd1ea$var$onBtnCloseModalClick","classList","add","removeEventListener","$8a7e756c566dd1ea$export$2e2bcd8739ae039","setAttribute","fetchById","markup","budget","genres","homepage","vote_count","original_title","popularity","overview","genersList","element","name","$8a7e756c566dd1ea$var$createModalMarkup","$8a7e756c566dd1ea$var$uppendModalMarkap","includes","remove","addEventListener","window","$ce77af30fc9a6e63$var$renderList","$ce77af30fc9a6e63$var$search","preventDefault","query","elements","input","value","fetchByWord","alert","$ce77af30fc9a6e63$var$uppendMarkapGalleryList","scroll","top","behavior","contains","$ce77af30fc9a6e63$var$storage","fetchByUrl","string"],"version":3,"file":"index.cb09e6c2.js.map"}