{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-0ab6e9f1a44cdad4.js","src/js/refs.js","src/js/local-storage.js","src/js/create-markup-list.js","src/js/api-servise.js","node_modules/@parcel/runtime-js/lib/runtime-74c3e27ccfb5a105.js","src/js/modal.js","src/js/pagination/pagination-markup.js","src/js/pagination/pagination-service.js","src/js/app.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.4613c1ce.js\\\",\\\"3f3Gn\\\":\\\"cinema.9bc895e8.jpg\\\"}\"));","export default {\n  gallery: document.querySelector('.gallery'),\n  pagination: document.querySelector('.pagination'),\n  // paginationBtn: document.querySelector('.pangination__btn'),\n  // paginationLastPage: document.querySelector('.last-page'),\n\n  // decrementBtn: document.querySelector('.prev-btn'),\n  // incrementBtn: document.querySelector('.next-btn'),\n\n  homeBtn: document.querySelector('.header__btn-home'),\n  form: document.querySelector('.form'),\n\n  backdrop: document.querySelector('.backdrop'),\n  addToQueue: null,\n  addWached: null,\n};\n// libary: document.querySelector('.libary'),\n// libaryBtn: document.querySelector('.header__btn-libary'),\n// libaryOptions: document.querySelector('.libary__options'),\n","import refs from './refs';\n\nclass Storage {\n  constructor() {\n    this.watchedList = JSON.parse(localStorage.getItem('watchedList')) ?? [];\n    this.queuedList = JSON.parse(localStorage.getItem('queuedList')) ?? [];\n  }\n\n  addInWatchedList(id) {\n    this.watchedList.push(id);\n    localStorage.setItem('watchedList', JSON.stringify(this.watchedList));\n  }\n\n  addInQueuedList(id) {\n    this.queuedList.push(id);\n    localStorage.setItem('queuedList', JSON.stringify(this.queuedList));\n  }\n}\n\nexport default Storage;\n","const IMG_URL = 'https://image.tmdb.org/t/p/w500/';\nimport Storage from './local-storage';\nconst storage = new Storage();\n\nfunction createMarkupList(arr) {\n  return arr\n    .map(\n      ({\n        id,\n        title,\n        poster_path,\n        release_date,\n        vote_average,\n      }) => `<li class=\"gallery__item\" id=\"${id}\">\n      <div class=\"info-wrap\">\n    <img src= ${IMG_URL}${poster_path} alt=\"\" class=\"poster\">\n    <p class=\"title\">${title}</p>\n    <p class=\"date\">Date: ${release_date}</p>\n    <p class=\"rating\">Rating :${vote_average}</p>\n    </div>\n</li>`\n    )\n    .join('');\n}\n\nexport default createMarkupList;\n","import refs from './refs';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '?api_key=b6201d5209ec246f483ea16253167a90';\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500/';\nconst URL_TRAND = BASE_URL + 'trending/all/day' + API_KEY;\nconst URL_POPULAR =\n  BASE_URL + 'discover/movie' + API_KEY + '&sort_by=popularity.desc';\n\nclass Search {\n  constructor() {\n    this.homeUrl = URL_TRAND;\n    this.url = URL_TRAND;\n    this.currentPage = 1;\n    this.totalPage = null;\n  }\n\n  async fetchByUrl(page) {\n    const url = new URL(this.url);\n    url.searchParams.set('page', page);\n    const response = await fetch(this.url);\n    const data = await response.json();\n    this.totalPage = data.total_pages;\n    this.currentlPage = data.page;\n    return data;\n  }\n\n  async fetchByWord(word) {\n    const url = new URL(BASE_URL + 'search/movie' + API_KEY);\n    url.searchParams.set('page', 1);\n    url.searchParams.set('query', word);\n    const response = await fetch(url);\n    const data = await response.json();\n    console.log(data);\n    return data;\n  }\n\n  incrementPage() {\n    this.currentPage += 1;\n  }\n  decrementPage() {\n    if (this.currentPage > 1) {\n      this.currentPage -= 1;\n    }\n  }\n\n  async fetchById(movieId) {\n    const response = await fetch(BASE_URL + `movie/${movieId}` + API_KEY);\n    const data = await response.json();\n    return data;\n  }\n}\n\nexport default Search;\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3f3Gn\")).toString();","import Search from './api-servise';\nimport Storage from './local-storage';\nimport refs from './refs';\nimport defaultImg from '../images/cinema.jpg';\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500/';\n\nconst search = new Search();\nconst storage = new Storage();\n\nasync function uppendModalMarkap(markup) {\n  refs.backdrop.innerHTML = markup;\n}\n\nasync function renderModal(filmId) {\n  refs.backdrop.setAttribute('id', filmId);\n  const data = await search.fetchById(filmId);\n  const markup = await createModalMarkup(data);\n  await uppendModalMarkap(markup);\n  refs.addToQueue = document.querySelector('.btn-add-queue');\n  refs.addWached = document.querySelector('.btn-add-wached');\n  if (storage.watchedList.includes(filmId)) {\n    refs.addWached.textContent = 'film in wached List';\n  }\n  if (storage.queuedList.includes(filmId)) {\n    refs.addToQueue.textContent = 'film in queue List';\n  }\n  openModal();\n}\n{\n}\nfunction createModalMarkup({\n  poster_path,\n  budget,\n  genres = [],\n  homepage,\n  vote_count,\n  vote_average,\n  original_title,\n  popularity,\n  title,\n  overview,\n}) {\n  const genersList = genres.map(element => element.name);\n  console.log(genersList);\n  return `<div class=\"modal\">\n    <button class=\"modal__close\" data-action=\"close-modal\">&#10006;</button>\n \n      <img class=\"modal__img\" src=${IMG_URL}${poster_path} alt=\"cinema\" />\n  \n    <div class=\"modal__description-wrap\">\n      <h2 class=\"modal__title\">${title}</h2>\n      <table class=\"modal__info\">\n  <tr>\n    <td class=\"modal__info-key\">Vote/votes</td>\n    <td \"modal__info-value\"><span class=\"modal__info-value--accent\">${vote_average}</span>/<span     class=\"modal__info-key--accent\">${vote_count}</span></td>\n  </tr>\n  <tr>\n    <td class=\"modal__info-key\">Popularity</td>\n    <td \"modal__info-value\">${popularity}</td>\n  </tr>\n  <tr>\n    <td class=\"modal__info-key\">Original Title</td>\n    <td \"modal__info-value\">${original_title}</td>\n  </tr>\n  <tr>\n    <td class=\"modal__info-key\">Genre</td>\n    <td \"modal__info-value\">${genersList}</td>\n  </tr>\n</table>\n    \n      <h3 class=\"modal__about-title\">About</h3>\n      <p class=\"modal__about-text\">\n        ${overview}\n      </p>\n      <div class=\"modal__option\">\n        <button class=\"btn-add-wached\" data-action=\"add-wached\">add to Watched</button>\n        <button class=\"btn-add-queue\" data-action=\"add-queue\">add to queue</button>\n      </div>\n    </div>\n  </div>`;\n}\nfunction onCloseEsc(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction onBtnAddToQueueClick(e) {\n  console.log(refs);\n  if (e.target.dataset.action === 'add-queue') {\n    const filmId = e.currentTarget.getAttribute('id');\n    storage.addInQueuedList(filmId);\n    console.log(localStorage.getItem('queuedList'));\n  }\n}\nfunction onBtnAddWachedClick(e) {\n  console.log(refs);\n  if (e.target.dataset.action === 'add-wached') {\n    const filmId = e.currentTarget.getAttribute('id');\n    storage.addInWatchedList(filmId);\n    console.log(localStorage.getItem('watchedList'));\n  }\n}\nfunction onBtnCloseModalClick(e) {\n  if (\n    e.target.dataset.action === 'close-modal' ||\n    e.currentTarget === e.target\n  ) {\n    closeModal();\n  }\n}\n\nfunction openModal() {\n  refs.backdrop.classList.remove('visually-hidden');\n  document.addEventListener('keydown', onCloseEsc);\n  refs.backdrop.addEventListener('click', onBtnCloseModalClick);\n  refs.backdrop.addEventListener('click', onBtnAddToQueueClick);\n  refs.backdrop.addEventListener('click', onBtnAddWachedClick);\n}\n\nfunction closeModal() {\n  refs.backdrop.classList.add('visually-hidden');\n  document.removeEventListener('keydown', onCloseEsc);\n  refs.backdrop.removeEventListener('click', onBtnCloseModalClick);\n  refs.backdrop.removeEventListener('click', onBtnAddToQueueClick);\n  refs.backdrop.removeEventListener('click', onBtnAddWachedClick);\n}\nexport default renderModal;\n// backdrop_path: \"/egoyMDLqCxzjnSrWOz50uLlJWmD.jpg\"\n// belongs_to_collection: {id: 720879, name: \"Sonic the Hedgehog Collection\", poster_path: \"/rEC1pkQ1UbX7USRkVIrt2Nk7hlC.jpg\",…}\n// budget: 110000000\n// genres: [{id: 28, name: \"Action\"}, {id: 12, name: \"Adventure\"}, {id: 10751, name: \"Family\"},…]\n// homepage: \"https://www.sonicthehedgehogmovie.com\"\n// id: 675353\n// imdb_id: \"tt12412888\"\n// original_language: \"en\"\n// original_title: \"Sonic the Hedgehog 2\"\n// overview: \"After settling in Green Hills, Sonic is eager to prove he has what it takes to be a true hero. His test comes when Dr. Robotnik returns, this time with a new partner, Knuckles, in search for an emerald that has the power to destroy civilizations. Sonic teams up with his own sidekick, Tails, and together they embark on a globe-trotting journey to find the emerald before it falls into the wrong hands.\"\n// popularity: 3201.969\n// poster_path: \"/6DrHO1jr3qVrViUO6s6kFiAGM7.jpg\"\n// production_companies: [{id: 4, logo_path: \"/gz66EfNoYPqHTYI4q9UEN4CbHRc.png\", name: \"Paramount\", origin_country: \"US\"},…]\n// production_countries: [{iso_3166_1: \"JP\", name: \"Japan\"}, {iso_3166_1: \"US\", name: \"United States of America\"}]\n// release_date: \"2022-03-30\"\n// revenue: 393000000\n// runtime: 122\n// spoken_languages: [{english_name: \"English\", iso_639_1: \"en\", name: \"English\"}]\n// status: \"Released\"\n// tagline: \"Welcome to the next level.\"\n// title: \"Sonic the Hedgehog 2\"\n// video: false\n// vote_average: 7.7\n// vote_count: 2274\n","function createMarkupPagination(currentPage, totalPage) {\n  return ` <button class=\"prev-btn visually-hidden\">prew list</button>\n      <button class=\"pangination__btn current-page\">${currentPage}</button>\n      <button class=\"pangination__btn \">${currentPage + 1}</button>\n      <button class=\"pangination__btn\" >${currentPage + 2}</button>\n      <button class=\"pangination__btn \">${currentPage + 3}</button>\n      <button class=\"pangination__btn \">${currentPage + 4}</button>\n      <button class=\"pangination__btn \">${currentPage + 5}</button>\n      <button class=\"last-page\">${totalPage}</button>\n      <button class=\"next-btn visually-hidden\" data-number=\"\n      \">next list</button>`;\n}\nexport default createMarkupPagination;\n","import refs from '../refs';\nimport createMarkupPagination from './pagination-markup';\n\nfunction showPagination(currentPage, totalPage) {\n  const string = createMarkupPagination(currentPage, totalPage);\n  refs.pagination.innerHTML = string;\n\n  refs.paginationBtn = document.querySelectorAll('.pangination__btn');\n  refs.decrementBtn = document.querySelector('.prev-btn');\n  refs.incrementBtn = document.querySelector('.next-btn');\n  refs.paginationLastPage = document.querySelector('.last-page');\n\n  refs.pagination.addEventListener('click', onPaginationBtnClick);\n  refs.pagination.addEventListener('click', onNextPageClick);\n  refs.pagination.addEventListener('click', onPrevPageClick);\n  refs.pagination.addEventListener('click', onLastBtnClick);\n}\nexport { showPagination };\n// ###############################################\n\n// const getCurrentPage = () => {\n//   const href = location.href;\n//   const url = new URL(href);\n//   console.log(url.searchParams);\n//   const page = url.searchParams.get('page');\n\n//   return parseInt(page) ?? 1;\n// };\n\n// const changeNavigation = event => {\n//   if (event.target.nodeName === 'BUTTON') {\n//     const href = location.href;\n//     const url = new URL(href);\n//     const currentPage = parseInt(event.target.innerText);\n\n//     url.searchParams.set('page', currentPage);\n//     history.pushState({}, '', url.toString());\n\n//     // requestData(currentPage, limit).then(data => {\n//     //   const totalPages = Math.ceil(data.total / limit);\n\n//     //   renderContent(data.articles);\n//     //   renderPagination(currentPage, totalPages);\n//     // });\n//   }\n// };\n// #####################################################################\n\nfunction onLastBtnClick(e) {\n  if (e.target.classList.contains('last-page')) {\n    let page = e.target.textContent;\n  }\n}\n\nfunction onNextPageClick(e) {\n  if (e.target.classList.contains('next-btn')) {\n    let nextPage = 0;\n    refs.paginationBtn.forEach(element => {\n      element.textContent = Number(element.textContent) + 6;\n      if (element.classList.contains('current-page')) {\n        nextPage = Number(element.textContent);\n      }\n    });\n  }\n}\nfunction onPrevPageClick(e) {\n  if (e.target.classList.contains('prev-btn')) {\n    let nextPage = 0;\n    refs.paginationBtn.forEach(element => {\n      element.textContent = Number(element.textContent) - 6;\n      if (element.classList.contains('current-page')) {\n        nextPage = Number(element.textContent);\n      }\n    });\n  }\n}\n\nfunction onPaginationBtnClick(e) {\n  if (e.target.classList.contains('pangination__btn')) {\n    console.log(e.target.textContent);\n  }\n}\n","import refs from './refs';\nimport createMarkupList from './create-markup-list';\nimport renderModal from './modal';\nimport Search from './api-servise';\nimport { showPagination } from './pagination/pagination-service';\nimport './pagination/pagination-service';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '?api_key=b6201d5209ec246f483ea16253167a90';\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500/';\nconst URL_TRAND = BASE_URL + 'trending/all/day' + API_KEY;\nconst URL_POPULAR =\n  BASE_URL + 'discover/movie' + API_KEY + '&sort_by=popularity.desc';\n\nconst search = new Search();\n\nconst eventHandlers = () => {\n  window.addEventListener('DOMContentLoaded', init);\n  refs.pagination.addEventListener('click', changeNavigation);\n  // refs.form.addEventListener('submit', onFormSubmit);\n\n  window.onpopstate = init;\n};\nconst getCurrentPage = () => {\n  const href = location.href;\n  const url = new URL(href);\n  let page = url.searchParams.get('page');\n  console.log(page);\n  return Number(page) ?? 1;\n};\nasync function init() {\n  const currentPage = getCurrentPage();\n  const data = await search.fetchByUrl(currentPage);\n  const totalPages = data.total_pages;\n  const markup = await createMarkupList(data.results);\n  uppendMarkapGalleryList(markup);\n  showPagination(currentPage, totalPages);\n}\nfunction uppendMarkapGalleryList(string) {\n  refs.gallery.innerHTML = string;\n}\nasync function changeNavigation(e) {\n  if (e.target.classList.contains('pangination__btn')) {\n    const href = location.href;\n    const url = new URL(href);\n    const currentPage = Number(e.target.textContent);\n    url.searchParams.set('page', currentPage);\n    history.pushState({}, '', url.toString());\n\n    const data = await search.fetchByUrl(currentPage);\n    const totalPages = data.total_pages;\n    const markup = await createMarkupList(data.results);\n    uppendMarkapGalleryList(markup);\n    showPagination(currentPage, totalPages);\n  }\n}\n// async function onFormSubmit(e) {\n//   e.preventDefault();\n//   const query = e.target.elements.input.value;\n//   location.replace(`//localhost:1234/?query=${query}&page=1`);\n//   const data = await search.fetchByWord(query);\n//   if (data.results.length === 0) {\n//     alert('Search result not successful. Enter the correct movie name and ');\n//     return;\n//   }\n//   const markup = await createMarkupList(data.results);\n//   await uppendMarkapGalleryList(markup);\n//   const totalPages = data.total_pages;\n//   showPagination(currentPage, totalPages);\n// }\n\nfunction uppendMarkapGalleryList(string) {\n  refs.gallery.innerHTML = string;\n}\n\neventHandlers();\n// window.addEventListener('DOMContentLoaded', renderList);\n// refs.homeBtn.addEventListener('click', onClickBtnHome);\n// refs.form.addEventListener('submit', onFormSubmit);\n// refs.gallery.addEventListener('click', onCardClick);\n\n// function onClickBtnHome() {\n//   search.currentPage = 1;\n//   search.url = search.homeUrl;\n//   renderList();\n// }\n\n// async function renderList() {\n//   const data = await search.fetchByUrl();\n//   const markup = await createMarkupList(data);\n//   console.log(data);\n//   showPagination(search.currentPage, search.totalPage);\n//   return await uppendMarkapGalleryList(markup);\n// }\n\n// async function onFormSubmit(e) {\n//   e.preventDefault();\n//   // search.currentPage = 1;\n//   const query = e.target.elements.input.value;\n//   const data = await search.fetchByWord(query);\n\n//   if (data.length === 0) {\n//     alert('Search result not successful. Enter the correct movie name and ');\n//     return;\n//   }\n//   const markup = await createMarkupList(data);\n//   return await uppendMarkapGalleryList(markup);\n// }\n\n// function uppendMarkapGalleryList(string) {\n//   refs.gallery.innerHTML = string;\n// }\n\n// ------Modal----------------\n// async function onCardClick(e) {\n//   const filmId = e.target.getAttribute('id');\n//   if (e.target.classList.contains('gallery__item')) {\n//     await renderModal(filmId);\n//   }\n// }\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$ee27a4d7c64fc8c4$export$2e2bcd8739ae039","gallery","document","querySelector","pagination","homeBtn","form","backdrop","addToQueue","addWached","$8125d1701b78b442$export$2e2bcd8739ae039","addInWatchedList","this","watchedList","push","localStorage","setItem","stringify","addInQueuedList","queuedList","constructor","ref","ref1","getItem","$c5622b0dc2fd209a$export$2e2bcd8739ae039","arr","map","title","poster_path","release_date","vote_average","join","$73417752614b6260$export$2e2bcd8739ae039","async","page","URL","url","searchParams","set","response","fetch","data","json","totalPage","total_pages","currentlPage","word","$73417752614b6260$var$BASE_URL","console","log","incrementPage","currentPage","decrementPage","movieId","homeUrl","resolve","import","meta","toString","$424f3cef17f2be42$export$2e2bcd8739ae039","$7a60e0802da67449$export$f93f175716c54a10","string","innerHTML","paginationBtn","querySelectorAll","decrementBtn","incrementBtn","paginationLastPage","addEventListener","$7a60e0802da67449$var$onPaginationBtnClick","$7a60e0802da67449$var$onNextPageClick","$7a60e0802da67449$var$onPrevPageClick","$7a60e0802da67449$var$onLastBtnClick","e","target","classList","contains","textContent","nextPage","forEach","element","Number","$ce77af30fc9a6e63$var$search","$ce77af30fc9a6e63$var$init","href","location","get","$ce77af30fc9a6e63$var$getCurrentPage","fetchByUrl","totalPages","markup","results","$ce77af30fc9a6e63$var$uppendMarkapGalleryList","$ce77af30fc9a6e63$var$changeNavigation","history","pushState","window","onpopstate"],"version":3,"file":"index.4613c1ce.js.map"}